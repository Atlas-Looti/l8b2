# Configuration File

L8B uses the `l8b.config.json` configuration file in the project root to manage various game settings and the development environment.

## File Location

Create an `l8b.config.json` file in your project's root directory:

```
my-game/
├── src/
├── public/
└── l8b.config.json  ← Configuration file
```

## Basic Configuration

Minimal configuration (generated by `l8b init`):

```json
{
  "name": "My Game",
  "orientation": "any",
  "aspect": "free"
}
```

This is the simplest configuration required. All other options will use default values.

## Configuration Options

### `name`

The name of the game that will be used in various places (default: "LootiScript Game").

```json
{
  "name": "My Awesome Game"
}
```

### `orientation`

Game screen orientation. Options:
- `"portrait"` - Portrait mode (vertical)
- `"landscape"` - Landscape mode (horizontal)
- `"any"` - Free (default)

```json
{
  "orientation": "landscape"
}
```

### `aspect`

Screen aspect ratio. Options:
- `"16x9"` - Widescreen (16:9)
- `"4x3"` - Classic (4:3)
- `"1x1"` - Square (1:1)
- `"2x1"` - Ultra-wide (2:1)
- `"free"` - Free (default)
- `">16x9"` - Minimum 16:9 (prefix `>` for minimum)

```json
{
  "aspect": "16x9"
}
```

### `width` / `height`

Canvas dimensions in pixels. If not specified, it will be calculated automatically based on the aspect ratio.

```json
{
  "width": 1920,
  "height": 1080
}
```

**Note:** If `aspect` is already specified, `width` and `height` will be calculated automatically. You only need to specify it if you want a custom size.

### `canvas`

Canvas element configuration.

```json
{
  "canvas": {
    "id": "game",
    "width": 1920,
    "height": 1080
  }
}
```

- `id` - Canvas element ID in HTML (default: "game")
- `width` - Canvas width (optional, overrides root `width`)
- `height` - Canvas height (optional, overrides root `height`)

### `dev`

Development server configuration.

```json
{
  "dev": {
    "port": 3000,
    "host": "localhost",
    "watch": true,
    "hotReload": true
  }
}
```

- `port` - Port for dev server (default: 3000)
- `host` - Host for dev server (default: "localhost", use `"0.0.0.0"` to expose to network)
- `watch` - Enable file watching (default: true)
- `hotReload` - Enable hot module replacement (default: true)

### `logging`

Control logging output to browser console and terminal.

```json
{
  "logging": {
    "browser": {
      "lifecycle": false,
      "canvas": false
    },
    "terminal": {
      "lifecycle": false,
      "canvas": false,
      "listener": false,
      "errors": true
    }
  }
}
```

**Browser logging:**
- `lifecycle` - Log lifecycle events (init, update, draw)
- `canvas` - Log canvas operations

**Terminal logging:**
- `lifecycle` - Log lifecycle events
- `canvas` - Log canvas operations
- `listener` - Log event listener registrations
- `errors` - Log errors (default: true)

### `farcaster`

Configuration for Farcaster Mini Apps.

```json
{
  "farcaster": {
    "manifest": {
      "name": "My Mini App",
      "iconUrl": "https://example.com/icon.png",
      "splashImageUrl": "https://example.com/splash.png",
      "splashBackgroundColor": "#000000",
      "homeUrl": "https://example.com",
      "ogImageUrl": "https://example.com/og.png"
    },
    "embeds": {
      "/game": {
        "imageUrl": "https://example.com/game-preview.png",
        "title": "Play Game",
        "description": "An awesome game"
      }
    }
  }
}
```

**Manifest options:**
- `name` - Mini App Name
- `iconUrl` - Icon URL (120x120px)
- `splashImageUrl` - Splash screen URL (1200x630px)
- `splashBackgroundColor` - Background color for splash (hex)
- `homeUrl` - Mini App Home URL
- `ogImageUrl` - OpenGraph image URL

**Embeds options:**
- Key is route path (e.g., "/game")
- `imageUrl` - Preview image for embed
- `title` - Title for embed
- `description` - Description for embed

## Complete Example

```json
{
  "name": "My Awesome Game",
  "orientation": "landscape",
  "aspect": "16x9",
  "width": 1920,
  "height": 1080,
  "canvas": {
    "id": "game"
  },
  "dev": {
    "port": 3000,
    "host": "localhost",
    "watch": true,
    "hotReload": true
  },
  "logging": {
    "browser": {
      "lifecycle": false,
      "canvas": false
    },
    "terminal": {
      "lifecycle": false,
      "canvas": false,
      "listener": false,
      "errors": true
    }
  },
  "farcaster": {
    "manifest": {
      "name": "My Mini App",
      "iconUrl": "https://example.com/icon.png",
      "splashImageUrl": "https://example.com/splash.png",
      "splashBackgroundColor": "#000000",
      "homeUrl": "https://example.com"
    }
  }
}
```

## Default Values

If not specified, L8B will use default values:

```json
{
  "name": "LootiScript Game",
  "orientation": "any",
  "aspect": "free",
  "canvas": {
    "id": "game"
  },
  "logging": {
    "browser": {
      "lifecycle": false,
      "canvas": false
    },
    "terminal": {
      "lifecycle": false,
      "canvas": false,
      "listener": false,
      "errors": true
    }
  }
}
```

## Validation

L8B will validate the configuration during:
- Development server start (`l8b dev`)
- Production build (`l8b build`)

If there is an error, a clear error message will be displayed.
