# Built-in Libraries

LootiScript comes with a standard library of utilities for common operations. These libraries are globally available.

## Math Library

The `Math` object provides mathematical functions and constants.

### Basic Operations
| Function | Description | Example |
|----------|-------------|---------|
| `Math.abs(x)` | Absolute value | `Math.abs(-5) // 5` |
| `Math.floor(x)` | Round down | `Math.floor(3.9) // 3` |
| `Math.ceil(x)` | Round up | `Math.ceil(3.1) // 4` |
| `Math.round(x)` | Round to nearest integer | `Math.round(3.5) // 4` |
| `Math.sqrt(x)` | Square root | `Math.sqrt(16) // 4` |
| `Math.pow(base, exp)` | Power | `Math.pow(2, 3) // 8` |
| `Math.min(a, b, ...)` | Minimum value | `Math.min(10, 5) // 5` |
| `Math.max(a, b, ...)` | Maximum value | `Math.max(10, 5) // 10` |
| `Math.clamp(x, min, max)` | Clamp value | `Math.clamp(15, 0, 10) // 10` |
| `Math.lerp(a, b, t)` | Linear interpolation | `Math.lerp(0, 100, 0.5) // 50` |

### Trigonometry
All trigonometric functions use **radians**.

- `Math.sin(x)`, `Math.cos(x)`, `Math.tan(x)`
- `Math.asin(x)`, `Math.acos(x)`, `Math.atan(x)`
- `Math.atan2(y, x)`

### Random
- `Math.random()`: Random float between 0 and 1.
- `Math.randomInt(min, max)`: Random integer between min and max (inclusive).
- `Math.randomFloat(min, max)`: Random float between min and max.

### Constants
- `Math.PI`: 3.14159...
- `Math.E`: 2.71828...

## String Library

The `String` object provides string manipulation functions.

### Modification
| Function | Description | Example |
|----------|-------------|---------|
| `String.trim(str)` | Remove whitespace | `String.trim("  hi  ") // "hi"` |
| `String.toUpperCase(str)` | Convert to uppercase | `String.toUpperCase("hi") // "HI"` |
| `String.toLowerCase(str)` | Convert to lowercase | `String.toLowerCase("HI") // "hi"` |
| `String.replace(str, search, replace)` | Replace first occurrence | `String.replace("hello", "l", "x")` |
| `String.replaceAll(str, search, replace)` | Replace all occurrences | `String.replaceAll("hello", "l", "x")` |
| `String.split(str, separator)` | Split into list | `String.split("a,b", ",") // {"a", "b"}` |

### Inspection
| Function | Description | Example |
|----------|-------------|---------|
| `String.length(str)` | Get length | `String.length("hi") // 2` |
| `String.contains(str, search)` | Check if contains | `String.contains("team", "ea") // 1` |
| `String.startsWith(str, prefix)` | Check prefix | `String.startsWith("hi", "h") // 1` |
| `String.endsWith(str, suffix)` | Check suffix | `String.endsWith("hi", "i") // 1` |
| `String.indexOf(str, search)` | Find index | `String.indexOf("hello", "e") // 1` |
| `String.substring(str, start, end)` | Get substring | `String.substring("hello", 1, 3) // "el"` |

## List Library

The `List` object provides functions for working with arrays (lists).

### Modification
| Function | Description | Example |
|----------|-------------|---------|
| `List.push(list, item)` | Add to end | `List.push(items, 10)` |
| `List.pop(list)` | Remove from end | `List.pop(items)` |
| `List.unshift(list, item)` | Add to start | `List.unshift(items, 10)` |
| `List.shift(list)` | Remove from start | `List.shift(items)` |
| `List.reverse(list)` | Reverse list | `List.reverse(items)` |
| `List.sort(list, compareFn)` | Sort list | `List.sort(items)` |
| `List.shuffle(list)` | Shuffle list | `List.shuffle(items)` |

### Access & Search
| Function | Description | Example |
|----------|-------------|---------|
| `List.length(list)` | Get length | `List.length(items)` |
| `List.first(list)` | Get first item | `List.first(items)` |
| `List.last(list)` | Get last item | `List.last(items)` |
| `List.contains(list, item)` | Check if exists | `List.contains(items, 10)` |
| `List.indexOf(list, item)` | Find index | `List.indexOf(items, 10)` |

### Functional Helpers
- `List.map(list, fn)`: Create new list by applying function to each element.
- `List.filter(list, fn)`: Create new list with elements that pass the test.
- `List.reduce(list, fn, initial)`: Reduce list to single value.
- `List.find(list, fn)`: Find first element matching condition.

```lua
local numbers = {1, 2, 3, 4}
local doubled = List.map(numbers, x => x * 2)
// doubled is {2, 4, 6, 8}
```

## JSON Library

The `JSON` object handles JSON data.

- `JSON.encode(value)`: Convert value to JSON string.
- `JSON.decode(string)`: Parse JSON string to value.
- `JSON.pretty(value)`: Convert to formatted JSON string.

```lua
local data = object x=10, y=20 end
local jsonStr = JSON.encode(data)
local parsed = JSON.decode(jsonStr)
```
