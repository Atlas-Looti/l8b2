# Classes

Classes provide a way to create reusable object templates with shared behavior. LootiScript supports class-based object-oriented programming with inheritance.

## Defining a Class

Use the `class` keyword to define a new class.

```lua
class Player
  // Constructor is called when creating a new instance
  constructor = function(self, name)
    self.name = name
    self.health = 100
  end

  // Method definition
  takeDamage = function(self, amount)
    self.health -= amount
    print(self.name .. " took " .. amount .. " damage")
  end
end
```

## Creating Instances

Use the `new` keyword to create an instance of a class.

```lua
local p1 = new Player("Hero")
p1.takeDamage(10)
// Output: Hero took 10 damage
```

## Inheritance

Classes can inherit from other classes using the `extends` keyword.

```lua
class Enemy extends Player
  constructor = function(self, name, type)
    // Call parent constructor
    super(name)
    self.type = type
  end

  attack = function(self)
    print(self.name .. " attacks!")
  end
end

local goblin = new Enemy("Goblin", "Melee")
goblin.takeDamage(5)  // Inherited method
goblin.attack()       // New method
```

## `this` vs `self`

In LootiScript class methods, you have two ways to refer to the current instance:

1. **`self` parameter** - The first parameter of a method is conventionally named `self` and refers to the instance. This is the traditional Lua-style approach.

2. **`this` keyword** - You can also use the `this` keyword inside methods to refer to the current instance, similar to JavaScript or other languages.

Both approaches work the same way. Use whichever style you prefer:

```lua
class Counter
  count = 0

  // Using 'self' parameter (traditional)
  increment1 = function(self)
    self.count += 1
  end

  // Using 'this' keyword (modern)
  increment2 = function()
    this.count += 1  // 'this' automatically refers to the instance
  end
end

local c = new Counter()
c.increment1()  // Uses self parameter
c.increment2()  // Uses this keyword
// Both work the same way
```

**When to use which:**
- Use `self` if you need to pass the instance explicitly or prefer Lua-style
- Use `this` if you prefer a more modern syntax and don't need the parameter
- You can mix both in the same class, but be consistent within each method

## Static Members

You can define static members by adding them directly to the class object after definition.

```lua
class MathHelper
  // ...
end

MathHelper.PI = 3.14159
MathHelper.square = x => x * x

print(MathHelper.square(5)) // 25
```
