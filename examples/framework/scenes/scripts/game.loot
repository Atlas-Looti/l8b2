// Game Scene
game_scene = object
  x = 200
  y = 200
  color = "#4444AA"
  level = 1

  onStart = function(ctx, info)
    if info and info.payload and info.payload.level then
      level = info.payload.level
    end
    print("Entered Game Scene")
    x = 200
    y = 200
  end

  onUpdate = function()
    if input.keyboard.press("escape") then
      scenes.switch("menu")
    end

    if input.keyboard.press("p") then
      scenes.push("pause")
    end

    if input.keyboard.UP then y -= 2 end
    if input.keyboard.DOWN then y += 2 end
    if input.keyboard.LEFT then x -= 2 end
    if input.keyboard.RIGHT then x += 2 end
  end

  onDraw = function()
    screen.clearScreen(color)
    screen.drawText("GAME SCENE", 20, 20, "#FFFFFF", 20)
    screen.drawText("Use Arrow Keys. P = Pause, ESC = Menu", 20, 50, "#AAAAAA", 15)
    screen.drawText("Level is " , 20, 80, "#AAAAAA", 15)
    screen.drawText(level, 160, 80, "#AAAAAA", 15)
    screen.fillRect(x, y, 50, 50, "#FF0000")
  end

  onPause = function()
    print("Game paused")
  end

  onResume = function()
    print("Game resumed")
  end

  onStop = function()
    print("Left Game Scene")
  end
end
